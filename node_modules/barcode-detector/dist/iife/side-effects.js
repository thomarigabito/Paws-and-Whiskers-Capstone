var BarcodeDetectionAPI=function(W){"use strict";var lr=(W,H,Y)=>{if(!H.has(W))throw TypeError("Cannot "+Y)};var ce=(W,H,Y)=>(lr(W,H,"read from private field"),Y?Y.call(W):H.get(W)),dr=(W,H,Y)=>{if(H.has(W))throw TypeError("Cannot add the same private member more than once");H instanceof WeakSet?H.add(W):H.set(W,Y)},fr=(W,H,Y,_t)=>(lr(W,H,"write to private field"),_t?_t.call(W,Y):H.set(W,Y),Y);var ct,_e;const H=["Aztec","Codabar","Code128","Code39","Code93","DataBar","DataBarExpanded","DataMatrix","DXFilmEdge","EAN-13","EAN-8","ITF","Linear-Codes","Matrix-Codes","MaxiCode","MicroQRCode","None","PDF417","QRCode","rMQRCode","UPC-A","UPC-E"];function Y(i){return i.join("|")}function _t(i){const p=le(i);let c=0,$=H.length-1;for(;c<=$;){const g=Math.floor((c+$)/2),b=H[g],V=le(b);if(V===p)return b;V<p?c=g+1:$=g-1}return"None"}function le(i){return i.toLowerCase().replace(/_-\[\]/g,"")}function hr(i,p){return i.Binarizer[p]}function pr(i,p){return i.CharacterSet[p]}const mr=["Text","Binary","Mixed","GS1","ISO15434","UnknownECI"];function vr(i){return mr[i.value]}function yr(i,p){return i.EanAddOnSymbol[p]}function gr(i,p){return i.TextMode[p]}const ut={formats:[],tryHarder:!0,tryRotate:!0,tryInvert:!0,tryDownscale:!0,binarizer:"LocalAverage",isPure:!1,downscaleFactor:3,downscaleThreshold:500,minLineCount:2,maxNumberOfSymbols:255,tryCode39ExtendedMode:!1,validateCode39CheckSum:!1,validateITFCheckSum:!1,returnCodabarStartEnd:!1,returnErrors:!1,eanAddOnSymbol:"Read",textMode:"Plain",characterSet:"Unknown"};function de(i,p){return{...p,formats:Y(p.formats),binarizer:hr(i,p.binarizer),eanAddOnSymbol:yr(i,p.eanAddOnSymbol),textMode:gr(i,p.textMode),characterSet:pr(i,p.characterSet)}}function fe(i){return{...i,format:_t(i.format),eccLevel:i.eccLevel,contentType:vr(i.contentType)}}const wr={locateFile:(i,p)=>{const c=i.match(/_(.+?)\.wasm$/);return c?`https://fastly.jsdelivr.net/npm/zxing-wasm@1.2.3/dist/${c[1]}/${i}`:p+i}};let Vt=new WeakMap;function Lt(i,p){var c;const $=Vt.get(i);if($!=null&&$.modulePromise&&(p===void 0||Object.is(p,$.moduleOverrides)))return $.modulePromise;const g=(c=p!=null?p:$==null?void 0:$.moduleOverrides)!=null?c:wr,b=i({...g});return Vt.set(i,{moduleOverrides:g,modulePromise:b}),b}function $r(i,p){Vt.set(i,{moduleOverrides:p})}async function br(i,p,c=ut){const $={...ut,...c},g=await Lt(i),{size:b}=p,V=new Uint8Array(await p.arrayBuffer()),z=g._malloc(b);g.HEAPU8.set(V,z);const G=g.readBarcodesFromImage(z,b,de(g,$));g._free(z);const B=[];for(let S=0;S<G.size();++S)B.push(fe(G.get(S)));return B}async function Cr(i,p,c=ut){const $={...ut,...c},g=await Lt(i),{data:b,width:V,height:z,data:{byteLength:G}}=p,B=g._malloc(G);g.HEAPU8.set(b,B);const S=g.readBarcodesFromPixmap(B,V,z,de(g,$));g._free(B);const rt=[];for(let X=0;X<S.size();++X)rt.push(fe(S.get(X)));return rt}({...ut,formats:[...ut.formats]});var Pt=(()=>{var i=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(p={}){var c=p,$,g;c.ready=new Promise((t,e)=>{$=t,g=e});var b=Object.assign({},c),V="./this.program",z=typeof window=="object",G=typeof Bun<"u",B=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var S="";function rt(t){return c.locateFile?c.locateFile(t,S):S+t}var X;(z||B||G)&&(B?S=self.location.href:typeof document<"u"&&document.currentScript&&(S=document.currentScript.src),i&&(S=i),S.indexOf("blob:")!==0?S=S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):S="",B&&(X=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),c.print||console.log.bind(console);var J=c.printErr||console.error.bind(console);Object.assign(c,b),b=null,c.arguments&&c.arguments,c.thisProgram&&(V=c.thisProgram),c.quit&&c.quit;var nt;c.wasmBinary&&(nt=c.wasmBinary),typeof WebAssembly!="object"&&Dt("no native wasm support detected");var at,At=!1,L,U,lt,mt,k,_,Pe,Ee;function Ae(){var t=at.buffer;c.HEAP8=L=new Int8Array(t),c.HEAP16=lt=new Int16Array(t),c.HEAPU8=U=new Uint8Array(t),c.HEAPU16=mt=new Uint16Array(t),c.HEAP32=k=new Int32Array(t),c.HEAPU32=_=new Uint32Array(t),c.HEAPF32=Pe=new Float32Array(t),c.HEAPF64=Ee=new Float64Array(t)}var De=[],Oe=[],Fe=[];function Ur(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)Yr(c.preRun.shift());Yt(De)}function Vr(){Yt(Oe)}function Lr(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)Nr(c.postRun.shift());Yt(Fe)}function Yr(t){De.unshift(t)}function zr(t){Oe.unshift(t)}function Nr(t){Fe.unshift(t)}var ot=0,vt=null;function Gr(t){var e;ot++,(e=c.monitorRunDependencies)===null||e===void 0||e.call(c,ot)}function Xr(t){var e;if(ot--,(e=c.monitorRunDependencies)===null||e===void 0||e.call(c,ot),ot==0&&vt){var r=vt;vt=null,r()}}function Dt(t){var e;(e=c.onAbort)===null||e===void 0||e.call(c,t),t="Aborted("+t+")",J(t),At=!0,t+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(t);throw g(r),r}var qr="data:application/octet-stream;base64,",xe=t=>t.startsWith(qr),dt;dt="zxing_reader.wasm",xe(dt)||(dt=rt(dt));function Se(t){if(t==dt&&nt)return new Uint8Array(nt);if(X)return X(t);throw"both async and sync fetching of the wasm failed"}function Qr(t){return!nt&&(z||B||G)&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>Se(t)):Promise.resolve().then(()=>Se(t))}function Me(t,e,r){return Qr(t).then(n=>WebAssembly.instantiate(n,e)).then(n=>n).then(r,n=>{J(`failed to asynchronously prepare wasm: ${n}`),Dt(n)})}function Zr(t,e,r,n){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!xe(e)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(a=>{var o=WebAssembly.instantiateStreaming(a,r);return o.then(n,function(s){return J(`wasm streaming compile failed: ${s}`),J("falling back to ArrayBuffer instantiation"),Me(e,r,n)})}):Me(e,r,n)}function Jr(){var t={a:Ba};function e(n,a){return M=n.exports,at=M.ia,Ae(),Le=M.ma,zr(M.ja),Xr(),M}Gr();function r(n){e(n.instance)}if(c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(n){J(`Module.instantiateWasm callback failed with error: ${n}`),g(n)}return Zr(nt,dt,t,r).catch(g),{}}var Yt=t=>{for(;t.length>0;)t.shift()(c)};c.noExitRuntime;var Ot=[],Ft=0,Kr=t=>{var e=new zt(t);return e.get_caught()||(e.set_caught(!0),Ft--),e.set_rethrown(!1),Ot.push(e),nr(e.excPtr),e.get_exception_ptr()},K=0,tn=()=>{P(0,0);var t=Ot.pop();rr(t.excPtr),K=0};function zt(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(e){_[this.ptr+4>>2]=e},this.get_type=function(){return _[this.ptr+4>>2]},this.set_destructor=function(e){_[this.ptr+8>>2]=e},this.get_destructor=function(){return _[this.ptr+8>>2]},this.set_caught=function(e){e=e?1:0,L[this.ptr+12>>0]=e},this.get_caught=function(){return L[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,L[this.ptr+13>>0]=e},this.get_rethrown=function(){return L[this.ptr+13>>0]!=0},this.init=function(e,r){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(r)},this.set_adjusted_ptr=function(e){_[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return _[this.ptr+16>>2]},this.get_exception_ptr=function(){var e=or(this.get_type());if(e)return _[this.excPtr>>2];var r=this.get_adjusted_ptr();return r!==0?r:this.excPtr}}var en=t=>{throw K||(K=t),K},Nt=t=>{var e=K;if(!e)return Tt(0),0;var r=new zt(e);r.set_adjusted_ptr(e);var n=r.get_type();if(!n)return Tt(0),e;for(var a in t){var o=t[a];if(o===0||o===n)break;var s=r.ptr+16;if(ar(o,n,s))return Tt(o),e}return Tt(n),e},rn=()=>Nt([]),nn=t=>Nt([t]),an=(t,e)=>Nt([t,e]),on=()=>{var t=Ot.pop();t||Dt("no exception to throw");var e=t.excPtr;throw t.get_rethrown()||(Ot.push(t),t.set_rethrown(!0),t.set_caught(!1),Ft++),K=e,K},sn=(t,e,r)=>{var n=new zt(t);throw n.init(e,r),K=t,Ft++,K},un=()=>Ft,xt={},Gt=t=>{for(;t.length;){var e=t.pop(),r=t.pop();r(e)}};function Xt(t){return this.fromWireType(k[t>>2])}var ft={},it={},St={},je,Mt=t=>{throw new je(t)},st=(t,e,r)=>{t.forEach(function(u){St[u]=e});function n(u){var l=r(u);l.length!==t.length&&Mt("Mismatched type converter count");for(var f=0;f<t.length;++f)Q(t[f],l[f])}var a=new Array(e.length),o=[],s=0;e.forEach((u,l)=>{it.hasOwnProperty(u)?a[l]=it[u]:(o.push(u),ft.hasOwnProperty(u)||(ft[u]=[]),ft[u].push(()=>{a[l]=it[u],++s,s===o.length&&n(a)}))}),o.length===0&&n(a)},cn=t=>{var e=xt[t];delete xt[t];var r=e.rawConstructor,n=e.rawDestructor,a=e.fields,o=a.map(s=>s.getterReturnType).concat(a.map(s=>s.setterArgumentType));st([t],o,s=>{var u={};return a.forEach((l,f)=>{var h=l.fieldName,v=s[f],y=l.getter,w=l.getterContext,E=s[f+a.length],F=l.setter,T=l.setterContext;u[h]={read:R=>v.fromWireType(y(w,R)),write:(R,d)=>{var m=[];F(T,R,E.toWireType(m,d)),Gt(m)}}}),[{name:e.name,fromWireType:l=>{var f={};for(var h in u)f[h]=u[h].read(l);return n(l),f},toWireType:(l,f)=>{for(var h in u)if(!(h in f))throw new TypeError(`Missing field: "${h}"`);var v=r();for(h in u)u[h].write(v,f[h]);return l!==null&&l.push(n,v),v},argPackAdvance:Z,readValueFromPointer:Xt,destructorFunction:n}]})},ln=(t,e,r,n,a)=>{},dn=()=>{for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);Ie=t},Ie,I=t=>{for(var e="",r=t;U[r];)e+=Ie[U[r++]];return e},ht,C=t=>{throw new ht(t)};function fn(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var n=e.name;if(t||C(`type "${n}" must have a positive integer typeid pointer`),it.hasOwnProperty(t)){if(r.ignoreDuplicateRegistrations)return;C(`Cannot register type '${n}' twice`)}if(it[t]=e,delete St[t],ft.hasOwnProperty(t)){var a=ft[t];delete ft[t],a.forEach(o=>o())}}function Q(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return fn(t,e,r)}var Z=8,hn=(t,e,r,n)=>{e=I(e),Q(t,{name:e,fromWireType:function(a){return!!a},toWireType:function(a,o){return o?r:n},argPackAdvance:Z,readValueFromPointer:function(a){return this.fromWireType(U[a])},destructorFunction:null})},pn=t=>({count:t.count,deleteScheduled:t.deleteScheduled,preservePointerOnDelete:t.preservePointerOnDelete,ptr:t.ptr,ptrType:t.ptrType,smartPtr:t.smartPtr,smartPtrType:t.smartPtrType}),qt=t=>{function e(r){return r.$$.ptrType.registeredClass.name}C(e(t)+" instance already deleted")},Qt=!1,Re=t=>{},mn=t=>{t.smartPtr?t.smartPtrType.rawDestructor(t.smartPtr):t.ptrType.registeredClass.rawDestructor(t.ptr)},We=t=>{t.count.value-=1;var e=t.count.value===0;e&&mn(t)},ke=(t,e,r)=>{if(e===r)return t;if(r.baseClass===void 0)return null;var n=ke(t,e,r.baseClass);return n===null?null:r.downcast(n)},He={},vn=()=>Object.keys(wt).length,yn=()=>{var t=[];for(var e in wt)wt.hasOwnProperty(e)&&t.push(wt[e]);return t},yt=[],Zt=()=>{for(;yt.length;){var t=yt.pop();t.$$.deleteScheduled=!1,t.delete()}},gt,gn=t=>{gt=t,yt.length&&gt&&gt(Zt)},wn=()=>{c.getInheritedInstanceCount=vn,c.getLiveInheritedInstances=yn,c.flushPendingDeletes=Zt,c.setDelayFunction=gn},wt={},$n=(t,e)=>{for(e===void 0&&C("ptr should not be undefined");t.baseClass;)e=t.upcast(e),t=t.baseClass;return e},bn=(t,e)=>(e=$n(t,e),wt[e]),jt=(t,e)=>{(!e.ptrType||!e.ptr)&&Mt("makeClassHandle requires ptr and ptrType");var r=!!e.smartPtrType,n=!!e.smartPtr;return r!==n&&Mt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},$t(Object.create(t,{$$:{value:e,writable:!0}}))};function Cn(t){var e=this.getPointee(t);if(!e)return this.destructor(t),null;var r=bn(this.registeredClass,e);if(r!==void 0){if(r.$$.count.value===0)return r.$$.ptr=e,r.$$.smartPtr=t,r.clone();var n=r.clone();return this.destructor(t),n}function a(){return this.isSmartPointer?jt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:t}):jt(this.registeredClass.instancePrototype,{ptrType:this,ptr:t})}var o=this.registeredClass.getActualType(e),s=He[o];if(!s)return a.call(this);var u;this.isConst?u=s.constPointerType:u=s.pointerType;var l=ke(e,this.registeredClass,u.registeredClass);return l===null?a.call(this):this.isSmartPointer?jt(u.registeredClass.instancePrototype,{ptrType:u,ptr:l,smartPtrType:this,smartPtr:t}):jt(u.registeredClass.instancePrototype,{ptrType:u,ptr:l})}var $t=t=>typeof FinalizationRegistry>"u"?($t=e=>e,t):(Qt=new FinalizationRegistry(e=>{We(e.$$)}),$t=e=>{var r=e.$$,n=!!r.smartPtr;if(n){var a={$$:r};Qt.register(e,a,e)}return e},Re=e=>Qt.unregister(e),$t(t)),Tn=()=>{Object.assign(It.prototype,{isAliasOf(t){if(!(this instanceof It)||!(t instanceof It))return!1;var e=this.$$.ptrType.registeredClass,r=this.$$.ptr;t.$$=t.$$;for(var n=t.$$.ptrType.registeredClass,a=t.$$.ptr;e.baseClass;)r=e.upcast(r),e=e.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return e===n&&r===a},clone(){if(this.$$.ptr||qt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var t=$t(Object.create(Object.getPrototypeOf(this),{$$:{value:pn(this.$$)}}));return t.$$.count.value+=1,t.$$.deleteScheduled=!1,t},delete(){this.$$.ptr||qt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&C("Object already scheduled for deletion"),Re(this),We(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||qt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&C("Object already scheduled for deletion"),yt.push(this),yt.length===1&&gt&&gt(Zt),this.$$.deleteScheduled=!0,this}})};function It(){}var bt=(t,e)=>Object.defineProperty(e,"name",{value:t}),Be=(t,e,r)=>{if(t[e].overloadTable===void 0){var n=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||C(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].overloadTable})!`),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[n.argCount]=n}},Jt=(t,e,r)=>{c.hasOwnProperty(t)?((r===void 0||c[t].overloadTable!==void 0&&c[t].overloadTable[r]!==void 0)&&C(`Cannot register public name '${t}' twice`),Be(c,t,t),c.hasOwnProperty(r)&&C(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),c[t].overloadTable[r]=e):(c[t]=e,r!==void 0&&(c[t].numArguments=r))},_n=48,Pn=57,En=t=>{if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return e>=_n&&e<=Pn?`_${t}`:t};function An(t,e,r,n,a,o,s,u){this.name=t,this.constructor=e,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=s,this.downcast=u,this.pureVirtualFunctions=[]}var Kt=(t,e,r)=>{for(;e!==r;)e.upcast||C(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.upcast(t),e=e.baseClass;return t};function Dn(t,e){if(e===null)return this.isReference&&C(`null is not a valid ${this.name}`),0;e.$$||C(`Cannot pass "${ae(e)}" as a ${this.name}`),e.$$.ptr||C(`Cannot pass deleted object as a pointer of type ${this.name}`);var r=e.$$.ptrType.registeredClass,n=Kt(e.$$.ptr,r,this.registeredClass);return n}function On(t,e){var r;if(e===null)return this.isReference&&C(`null is not a valid ${this.name}`),this.isSmartPointer?(r=this.rawConstructor(),t!==null&&t.push(this.rawDestructor,r),r):0;(!e||!e.$$)&&C(`Cannot pass "${ae(e)}" as a ${this.name}`),e.$$.ptr||C(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&C(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(r=Kt(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&C("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?r=e.$$.smartPtr:C(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:r=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)r=e.$$.smartPtr;else{var a=e.clone();r=this.rawShare(r,tt.toHandle(()=>a.delete())),t!==null&&t.push(this.rawDestructor,r)}break;default:C("Unsupporting sharing policy")}return r}function Fn(t,e){if(e===null)return this.isReference&&C(`null is not a valid ${this.name}`),0;e.$$||C(`Cannot pass "${ae(e)}" as a ${this.name}`),e.$$.ptr||C(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&C(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var r=e.$$.ptrType.registeredClass,n=Kt(e.$$.ptr,r,this.registeredClass);return n}function Ue(t){return this.fromWireType(_[t>>2])}var xn=()=>{Object.assign(Rt.prototype,{getPointee(t){return this.rawGetPointee&&(t=this.rawGetPointee(t)),t},destructor(t){var e;(e=this.rawDestructor)===null||e===void 0||e.call(this,t)},argPackAdvance:Z,readValueFromPointer:Ue,deleteObject(t){t!==null&&t.delete()},fromWireType:Cn})};function Rt(t,e,r,n,a,o,s,u,l,f,h){this.name=t,this.registeredClass=e,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=s,this.rawGetPointee=u,this.rawConstructor=l,this.rawShare=f,this.rawDestructor=h,!a&&e.baseClass===void 0?n?(this.toWireType=Dn,this.destructorFunction=null):(this.toWireType=Fn,this.destructorFunction=null):this.toWireType=On}var Ve=(t,e,r)=>{c.hasOwnProperty(t)||Mt("Replacing nonexistant public symbol"),c[t].overloadTable!==void 0&&r!==void 0?c[t].overloadTable[r]=e:(c[t]=e,c[t].argCount=r)},Sn=(t,e,r)=>{var n=c["dynCall_"+t];return r&&r.length?n.apply(null,[e].concat(r)):n.call(null,e)},Wt=[],Le,A=t=>{var e=Wt[t];return e||(t>=Wt.length&&(Wt.length=t+1),Wt[t]=e=Le.get(t)),e},Mn=(t,e,r)=>{if(t.includes("j"))return Sn(t,e,r);var n=A(e).apply(null,r);return n},jn=(t,e)=>{var r=[];return function(){return r.length=0,Object.assign(r,arguments),Mn(t,e,r)}},q=(t,e)=>{t=I(t);function r(){return t.includes("j")?jn(t,e):A(e)}var n=r();return typeof n!="function"&&C(`unknown function pointer with signature ${t}: ${e}`),n},In=(t,e)=>{var r=bt(e,function(n){this.name=e,this.message=n;var a=new Error(n).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r},Ye,ze=t=>{var e=er(t),r=I(e);return et(e),r},kt=(t,e)=>{var r=[],n={};function a(o){if(!n[o]&&!it[o]){if(St[o]){St[o].forEach(a);return}r.push(o),n[o]=!0}}throw e.forEach(a),new Ye(`${t}: `+r.map(ze).join([", "]))},Rn=(t,e,r,n,a,o,s,u,l,f,h,v,y)=>{h=I(h),o=q(a,o),u&&(u=q(s,u)),f&&(f=q(l,f)),y=q(v,y);var w=En(h);Jt(w,function(){kt(`Cannot construct ${h} due to unbound types`,[n])}),st([t,e,r],n?[n]:[],function(E){E=E[0];var F,T;n?(F=E.registeredClass,T=F.instancePrototype):T=It.prototype;var R=bt(h,function(){if(Object.getPrototypeOf(this)!==d)throw new ht("Use 'new' to construct "+h);if(m.constructor_body===void 0)throw new ht(h+" has no accessible constructor");var cr=m.constructor_body[arguments.length];if(cr===void 0)throw new ht(`Tried to invoke ctor of ${h} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(m.constructor_body).toString()}) parameters instead!`);return cr.apply(this,arguments)}),d=Object.create(T,{constructor:{value:R}});R.prototype=d;var m=new An(h,R,d,y,F,o,u,f);if(m.baseClass){var x,j;(j=(x=m.baseClass).__derivedClasses)!==null&&j!==void 0||(x.__derivedClasses=[]),m.baseClass.__derivedClasses.push(m)}var pt=new Rt(h,m,!0,!1,!1),Ut=new Rt(h+"*",m,!1,!1,!1),ur=new Rt(h+" const*",m,!1,!0,!1);return He[t]={pointerType:Ut,constPointerType:ur},Ve(w,R),[pt,Ut,ur]})},te=(t,e)=>{for(var r=[],n=0;n<t;n++)r.push(_[e+n*4>>2]);return r};function Wn(t){for(var e=1;e<t.length;++e)if(t[e]!==null&&t[e].destructorFunction===void 0)return!0;return!1}function ee(t,e,r,n,a,o){var s=e.length;s<2&&C("argTypes array size mismatch! Must at least get return value and 'this' types!");var u=e[1]!==null&&r!==null,l=Wn(e),f=e[0].name!=="void",h=s-2,v=new Array(h),y=[],w=[],E=function(){arguments.length!==h&&C(`function ${t} called with ${arguments.length} arguments, expected ${h}`),w.length=0;var F;y.length=u?2:1,y[0]=a,u&&(F=e[1].toWireType(w,this),y[1]=F);for(var T=0;T<h;++T)v[T]=e[T+2].toWireType(w,arguments[T]),y.push(v[T]);var R=n.apply(null,y);function d(m){if(l)Gt(w);else for(var x=u?1:2;x<e.length;x++){var j=x===1?F:v[x-2];e[x].destructorFunction!==null&&e[x].destructorFunction(j)}if(f)return e[0].fromWireType(m)}return d(R)};return bt(t,E)}var kn=(t,e,r,n,a,o)=>{var s=te(e,r);a=q(n,a),st([],[t],function(u){u=u[0];var l=`constructor ${u.name}`;if(u.registeredClass.constructor_body===void 0&&(u.registeredClass.constructor_body=[]),u.registeredClass.constructor_body[e-1]!==void 0)throw new ht(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${u.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return u.registeredClass.constructor_body[e-1]=()=>{kt(`Cannot construct ${u.name} due to unbound types`,s)},st([],s,f=>(f.splice(1,0,null),u.registeredClass.constructor_body[e-1]=ee(l,f,null,a,o),[])),[]})},Ne=t=>{t=t.trim();const e=t.indexOf("(");return e!==-1?t.substr(0,e):t},Hn=(t,e,r,n,a,o,s,u,l)=>{var f=te(r,n);e=I(e),e=Ne(e),o=q(a,o),st([],[t],function(h){h=h[0];var v=`${h.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),u&&h.registeredClass.pureVirtualFunctions.push(e);function y(){kt(`Cannot call ${v} due to unbound types`,f)}var w=h.registeredClass.instancePrototype,E=w[e];return E===void 0||E.overloadTable===void 0&&E.className!==h.name&&E.argCount===r-2?(y.argCount=r-2,y.className=h.name,w[e]=y):(Be(w,e,v),w[e].overloadTable[r-2]=y),st([],f,function(F){var T=ee(v,F,h,o,s);return w[e].overloadTable===void 0?(T.argCount=r-2,w[e]=T):w[e].overloadTable[r-2]=T,[]}),[]})};function Bn(){Object.assign(Ge.prototype,{get(t){return this.allocated[t]},has(t){return this.allocated[t]!==void 0},allocate(t){var e=this.freelist.pop()||this.allocated.length;return this.allocated[e]=t,e},free(t){this.allocated[t]=void 0,this.freelist.push(t)}})}function Ge(){this.allocated=[void 0],this.freelist=[]}var N=new Ge,re=t=>{t>=N.reserved&&--N.get(t).refcount===0&&N.free(t)},Un=()=>{for(var t=0,e=N.reserved;e<N.allocated.length;++e)N.allocated[e]!==void 0&&++t;return t},Vn=()=>{N.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),N.reserved=N.allocated.length,c.count_emval_handles=Un},tt={toValue:t=>(t||C("Cannot use deleted val. handle = "+t),N.get(t).value),toHandle:t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return N.allocate({refcount:1,value:t})}}},Ln=(t,e)=>{e=I(e),Q(t,{name:e,fromWireType:r=>{var n=tt.toValue(r);return re(r),n},toWireType:(r,n)=>tt.toHandle(n),argPackAdvance:Z,readValueFromPointer:Xt,destructorFunction:null})},Yn=(t,e,r)=>{switch(e){case 1:return r?function(n){return this.fromWireType(L[n>>0])}:function(n){return this.fromWireType(U[n>>0])};case 2:return r?function(n){return this.fromWireType(lt[n>>1])}:function(n){return this.fromWireType(mt[n>>1])};case 4:return r?function(n){return this.fromWireType(k[n>>2])}:function(n){return this.fromWireType(_[n>>2])};default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},zn=(t,e,r,n)=>{e=I(e);function a(){}a.values={},Q(t,{name:e,constructor:a,fromWireType:function(o){return this.constructor.values[o]},toWireType:(o,s)=>s.value,argPackAdvance:Z,readValueFromPointer:Yn(e,r,n),destructorFunction:null}),Jt(e,a)},ne=(t,e)=>{var r=it[t];return r===void 0&&C(e+" has unknown type "+ze(t)),r},Nn=(t,e,r)=>{var n=ne(t,"enum");e=I(e);var a=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:bt(`${n.name}_${e}`,function(){})}});a.values[r]=o,a[e]=o},ae=t=>{if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t},Gn=(t,e)=>{switch(e){case 4:return function(r){return this.fromWireType(Pe[r>>2])};case 8:return function(r){return this.fromWireType(Ee[r>>3])};default:throw new TypeError(`invalid float width (${e}): ${t}`)}},Xn=(t,e,r)=>{e=I(e),Q(t,{name:e,fromWireType:n=>n,toWireType:(n,a)=>a,argPackAdvance:Z,readValueFromPointer:Gn(e,r),destructorFunction:null})},qn=(t,e,r,n,a,o,s)=>{var u=te(e,r);t=I(t),t=Ne(t),a=q(n,a),Jt(t,function(){kt(`Cannot call ${t} due to unbound types`,u)},e-1),st([],u,function(l){var f=[l[0],null].concat(l.slice(1));return Ve(t,ee(t,f,null,a,o),e-1),[]})},Qn=(t,e,r)=>{switch(e){case 1:return r?n=>L[n>>0]:n=>U[n>>0];case 2:return r?n=>lt[n>>1]:n=>mt[n>>1];case 4:return r?n=>k[n>>2]:n=>_[n>>2];default:throw new TypeError(`invalid integer width (${e}): ${t}`)}},Zn=(t,e,r,n,a)=>{e=I(e);var o=h=>h;if(n===0){var s=32-8*r;o=h=>h<<s>>>s}var u=e.includes("unsigned"),l=(h,v)=>{},f;u?f=function(h,v){return l(v,this.name),v>>>0}:f=function(h,v){return l(v,this.name),v},Q(t,{name:e,fromWireType:o,toWireType:f,argPackAdvance:Z,readValueFromPointer:Qn(e,r,n!==0),destructorFunction:null})},Jn=(t,e,r)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=n[e];function o(s){var u=_[s>>2],l=_[s+4>>2];return new a(L.buffer,l,u)}r=I(r),Q(t,{name:r,fromWireType:o,argPackAdvance:Z,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},Xe=(t,e,r,n)=>{if(!(n>0))return 0;for(var a=r,o=r+n-1,s=0;s<t.length;++s){var u=t.charCodeAt(s);if(u>=55296&&u<=57343){var l=t.charCodeAt(++s);u=65536+((u&1023)<<10)|l&1023}if(u<=127){if(r>=o)break;e[r++]=u}else if(u<=2047){if(r+1>=o)break;e[r++]=192|u>>6,e[r++]=128|u&63}else if(u<=65535){if(r+2>=o)break;e[r++]=224|u>>12,e[r++]=128|u>>6&63,e[r++]=128|u&63}else{if(r+3>=o)break;e[r++]=240|u>>18,e[r++]=128|u>>12&63,e[r++]=128|u>>6&63,e[r++]=128|u&63}}return e[r]=0,r-a},Kn=(t,e,r)=>Xe(t,U,e,r),qe=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e},Qe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,ta=(t,e,r)=>{for(var n=e+r,a=e;t[a]&&!(a>=n);)++a;if(a-e>16&&t.buffer&&Qe)return Qe.decode(t.subarray(e,a));for(var o="";e<a;){var s=t[e++];if(!(s&128)){o+=String.fromCharCode(s);continue}var u=t[e++]&63;if((s&224)==192){o+=String.fromCharCode((s&31)<<6|u);continue}var l=t[e++]&63;if((s&240)==224?s=(s&15)<<12|u<<6|l:s=(s&7)<<18|u<<12|l<<6|t[e++]&63,s<65536)o+=String.fromCharCode(s);else{var f=s-65536;o+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return o},oe=(t,e)=>t?ta(U,t,e):"",ea=(t,e)=>{e=I(e);var r=e==="std::string";Q(t,{name:e,fromWireType(n){var a=_[n>>2],o=n+4,s;if(r)for(var u=o,l=0;l<=a;++l){var f=o+l;if(l==a||U[f]==0){var h=f-u,v=oe(u,h);s===void 0?s=v:(s+="\0",s+=v),u=f+1}}else{for(var y=new Array(a),l=0;l<a;++l)y[l]=String.fromCharCode(U[o+l]);s=y.join("")}return et(n),s},toWireType(n,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var o,s=typeof a=="string";s||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||C("Cannot pass non-string to std::string"),r&&s?o=qe(a):o=a.length;var u=ue(4+o+1),l=u+4;if(_[u>>2]=o,r&&s)Kn(a,l,o+1);else if(s)for(var f=0;f<o;++f){var h=a.charCodeAt(f);h>255&&(et(l),C("String has UTF-16 code units that do not fit in 8 bits")),U[l+f]=h}else for(var f=0;f<o;++f)U[l+f]=a[f];return n!==null&&n.push(et,u),u},argPackAdvance:Z,readValueFromPointer:Ue,destructorFunction(n){et(n)}})},Ze=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,ra=(t,e)=>{for(var r=t,n=r>>1,a=n+e/2;!(n>=a)&&mt[n];)++n;if(r=n<<1,r-t>32&&Ze)return Ze.decode(U.subarray(t,r));for(var o="",s=0;!(s>=e/2);++s){var u=lt[t+s*2>>1];if(u==0)break;o+=String.fromCharCode(u)}return o},na=(t,e,r)=>{var n;if((n=r)!==null&&n!==void 0||(r=2147483647),r<2)return 0;r-=2;for(var a=e,o=r<t.length*2?r/2:t.length,s=0;s<o;++s){var u=t.charCodeAt(s);lt[e>>1]=u,e+=2}return lt[e>>1]=0,e-a},aa=t=>t.length*2,oa=(t,e)=>{for(var r=0,n="";!(r>=e/4);){var a=k[t+r*4>>2];if(a==0)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|o&1023)}else n+=String.fromCharCode(a)}return n},ia=(t,e,r)=>{var n;if((n=r)!==null&&n!==void 0||(r=2147483647),r<4)return 0;for(var a=e,o=a+r-4,s=0;s<t.length;++s){var u=t.charCodeAt(s);if(u>=55296&&u<=57343){var l=t.charCodeAt(++s);u=65536+((u&1023)<<10)|l&1023}if(k[e>>2]=u,e+=4,e+4>o)break}return k[e>>2]=0,e-a},sa=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=55296&&n<=57343&&++r,e+=4}return e},ua=(t,e,r)=>{r=I(r);var n,a,o,s,u;e===2?(n=ra,a=na,s=aa,o=()=>mt,u=1):e===4&&(n=oa,a=ia,s=sa,o=()=>_,u=2),Q(t,{name:r,fromWireType:l=>{for(var f=_[l>>2],h=o(),v,y=l+4,w=0;w<=f;++w){var E=l+4+w*e;if(w==f||h[E>>u]==0){var F=E-y,T=n(y,F);v===void 0?v=T:(v+="\0",v+=T),y=E+e}}return et(l),v},toWireType:(l,f)=>{typeof f!="string"&&C(`Cannot pass non-string to C++ string type ${r}`);var h=s(f),v=ue(4+h+e);return _[v>>2]=h>>u,a(f,v+4,h+e),l!==null&&l.push(et,v),v},argPackAdvance:Z,readValueFromPointer:Xt,destructorFunction(l){et(l)}})},ca=(t,e,r,n,a,o)=>{xt[t]={name:I(e),rawConstructor:q(r,n),rawDestructor:q(a,o),fields:[]}},la=(t,e,r,n,a,o,s,u,l,f)=>{xt[t].fields.push({fieldName:I(e),getterReturnType:r,getter:q(n,a),getterContext:o,setterArgumentType:s,setter:q(u,l),setterContext:f})},da=(t,e)=>{e=I(e),Q(t,{isVoid:!0,name:e,argPackAdvance:0,fromWireType:()=>{},toWireType:(r,n)=>{}})},ie=[],fa=(t,e,r,n)=>(t=ie[t],e=tt.toValue(e),t(null,e,r,n)),ha={},pa=t=>{var e=ha[t];return e===void 0?I(t):e},Je=()=>{if(typeof globalThis=="object")return globalThis;function t(e){e.$$$embind_global$$$=e;var r=typeof $$$embind_global$$$=="object"&&e.$$$embind_global$$$==e;return r||delete e.$$$embind_global$$$,r}if(typeof $$$embind_global$$$=="object"||(typeof global=="object"&&t(global)?$$$embind_global$$$=global:typeof self=="object"&&t(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")},ma=t=>t===0?tt.toHandle(Je()):(t=pa(t),tt.toHandle(Je()[t])),va=t=>{var e=ie.length;return ie.push(t),e},ya=(t,e)=>{for(var r=new Array(t),n=0;n<t;++n)r[n]=ne(_[e+n*4>>2],"parameter "+n);return r},ga=Reflect.construct,wa=(t,e,r)=>{var n=[],a=t.toWireType(n,r);return n.length&&(_[e>>2]=tt.toHandle(n)),a},$a=(t,e,r)=>{var n=ya(t,e),a=n.shift();t--;var o=new Array(t),s=(l,f,h,v)=>{for(var y=0,w=0;w<t;++w)o[w]=n[w].readValueFromPointer(v+y),y+=n[w].argPackAdvance;for(var E=r===1?ga(f,o):f.apply(l,o),w=0;w<t;++w){var F,T;(F=(T=n[w]).deleteObject)===null||F===void 0||F.call(T,o[w])}return wa(a,h,E)},u=`methodCaller<(${n.map(l=>l.name).join(", ")}) => ${a.name}>`;return va(bt(u,s))},ba=t=>{t>4&&(N.get(t).refcount+=1)},Ca=t=>{var e=tt.toValue(t);Gt(e),re(t)},Ta=(t,e)=>{t=ne(t,"_emval_take_value");var r=t.readValueFromPointer(e);return tt.toHandle(r)},_a=()=>{Dt("")},Pa=(t,e,r)=>U.copyWithin(t,e,e+r),Ea=()=>2147483648,Aa=t=>{var e=at.buffer,r=(t-e.byteLength+65535)/65536;try{return at.grow(r),Ae(),1}catch{}},Da=t=>{var e=U.length;t>>>=0;var r=Ea();if(t>r)return!1;for(var n=(l,f)=>l+(f-l%f)%f,a=1;a<=4;a*=2){var o=e*(1+.2/a);o=Math.min(o,t+100663296);var s=Math.min(r,n(Math.max(t,o),65536)),u=Aa(s);if(u)return!0}return!1},se={},Oa=()=>V||"./this.program",Ct=()=>{if(!Ct.strings){var t=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:t,_:Oa()};for(var r in se)se[r]===void 0?delete e[r]:e[r]=se[r];var n=[];for(var r in e)n.push(`${r}=${e[r]}`);Ct.strings=n}return Ct.strings},Fa=(t,e)=>{for(var r=0;r<t.length;++r)L[e++>>0]=t.charCodeAt(r);L[e>>0]=0},xa=(t,e)=>{var r=0;return Ct().forEach((n,a)=>{var o=e+r;_[t+a*4>>2]=o,Fa(n,o),r+=n.length+1}),0},Sa=(t,e)=>{var r=Ct();_[t>>2]=r.length;var n=0;return r.forEach(a=>n+=a.length+1),_[e>>2]=n,0},Ma=t=>t,Ht=t=>t%4===0&&(t%100!==0||t%400===0),ja=(t,e)=>{for(var r=0,n=0;n<=e;r+=t[n++]);return r},Ke=[31,29,31,30,31,30,31,31,30,31,30,31],tr=[31,28,31,30,31,30,31,31,30,31,30,31],Ia=(t,e)=>{for(var r=new Date(t.getTime());e>0;){var n=Ht(r.getFullYear()),a=r.getMonth(),o=(n?Ke:tr)[a];if(e>o-r.getDate())e-=o-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1));else return r.setDate(r.getDate()+e),r}return r};function Ra(t,e,r){var n=r>0?r:qe(t)+1,a=new Array(n),o=Xe(t,a,0,a.length);return e&&(a.length=o),a}var Wa=(t,e)=>{L.set(t,e)},ka=(t,e,r,n)=>{var a=_[n+40>>2],o={tm_sec:k[n>>2],tm_min:k[n+4>>2],tm_hour:k[n+8>>2],tm_mday:k[n+12>>2],tm_mon:k[n+16>>2],tm_year:k[n+20>>2],tm_wday:k[n+24>>2],tm_yday:k[n+28>>2],tm_isdst:k[n+32>>2],tm_gmtoff:k[n+36>>2],tm_zone:a?oe(a):""},s=oe(r),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var l in u)s=s.replace(new RegExp(l,"g"),u[l]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];function v(d,m,x){for(var j=typeof d=="number"?d.toString():d||"";j.length<m;)j=x[0]+j;return j}function y(d,m){return v(d,m,"0")}function w(d,m){function x(pt){return pt<0?-1:pt>0?1:0}var j;return(j=x(d.getFullYear()-m.getFullYear()))===0&&(j=x(d.getMonth()-m.getMonth()))===0&&(j=x(d.getDate()-m.getDate())),j}function E(d){switch(d.getDay()){case 0:return new Date(d.getFullYear()-1,11,29);case 1:return d;case 2:return new Date(d.getFullYear(),0,3);case 3:return new Date(d.getFullYear(),0,2);case 4:return new Date(d.getFullYear(),0,1);case 5:return new Date(d.getFullYear()-1,11,31);case 6:return new Date(d.getFullYear()-1,11,30)}}function F(d){var m=Ia(new Date(d.tm_year+1900,0,1),d.tm_yday),x=new Date(m.getFullYear(),0,4),j=new Date(m.getFullYear()+1,0,4),pt=E(x),Ut=E(j);return w(pt,m)<=0?w(Ut,m)<=0?m.getFullYear()+1:m.getFullYear():m.getFullYear()-1}var T={"%a":d=>f[d.tm_wday].substring(0,3),"%A":d=>f[d.tm_wday],"%b":d=>h[d.tm_mon].substring(0,3),"%B":d=>h[d.tm_mon],"%C":d=>{var m=d.tm_year+1900;return y(m/100|0,2)},"%d":d=>y(d.tm_mday,2),"%e":d=>v(d.tm_mday,2," "),"%g":d=>F(d).toString().substring(2),"%G":d=>F(d),"%H":d=>y(d.tm_hour,2),"%I":d=>{var m=d.tm_hour;return m==0?m=12:m>12&&(m-=12),y(m,2)},"%j":d=>y(d.tm_mday+ja(Ht(d.tm_year+1900)?Ke:tr,d.tm_mon-1),3),"%m":d=>y(d.tm_mon+1,2),"%M":d=>y(d.tm_min,2),"%n":()=>`
`,"%p":d=>d.tm_hour>=0&&d.tm_hour<12?"AM":"PM","%S":d=>y(d.tm_sec,2),"%t":()=>"	","%u":d=>d.tm_wday||7,"%U":d=>{var m=d.tm_yday+7-d.tm_wday;return y(Math.floor(m/7),2)},"%V":d=>{var m=Math.floor((d.tm_yday+7-(d.tm_wday+6)%7)/7);if((d.tm_wday+371-d.tm_yday-2)%7<=2&&m++,m){if(m==53){var x=(d.tm_wday+371-d.tm_yday)%7;x!=4&&(x!=3||!Ht(d.tm_year))&&(m=1)}}else{m=52;var j=(d.tm_wday+7-d.tm_yday-1)%7;(j==4||j==5&&Ht(d.tm_year%400-1))&&m++}return y(m,2)},"%w":d=>d.tm_wday,"%W":d=>{var m=d.tm_yday+7-(d.tm_wday+6)%7;return y(Math.floor(m/7),2)},"%y":d=>(d.tm_year+1900).toString().substring(2),"%Y":d=>d.tm_year+1900,"%z":d=>{var m=d.tm_gmtoff,x=m>=0;return m=Math.abs(m)/60,m=m/60*100+m%60,(x?"+":"-")+("0000"+m).slice(-4)},"%Z":d=>d.tm_zone,"%%":()=>"%"};s=s.replace(/%%/g,"\0\0");for(var l in T)s.includes(l)&&(s=s.replace(new RegExp(l,"g"),T[l](o)));s=s.replace(/\0\0/g,"%");var R=Ra(s,!1);return R.length>e?0:(Wa(R,t),R.length-1)},Ha=(t,e,r,n,a)=>ka(t,e,r,n);je=c.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},dn(),ht=c.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Tn(),wn(),xn(),Ye=c.UnboundTypeError=In(Error,"UnboundTypeError"),Bn(),Vn();var Ba={s:Kr,u:tn,b:rn,g:nn,q:an,K:on,f:sn,W:un,d:en,da:cn,S:ln,_:hn,ca:Rn,ba:kn,w:Hn,Z:Ln,x:zn,h:Nn,N:Xn,O:qn,t:Zn,o:Jn,M:ea,C:ua,A:ca,ea:la,$:da,E:fa,ga:re,ha:ma,L:$a,P:ba,Q:Ca,aa:Ta,B:_a,Y:Pa,X:Da,U:xa,V:Sa,F:ro,D:za,G:eo,n:no,a:Ua,e:Ga,m:Ya,k:qa,I:Ka,v:Za,H:to,z:oo,R:so,l:Xa,j:Na,c:La,p:Va,J:Ja,r:ao,i:Qa,y:io,fa:Ma,T:Ha},M=Jr(),et=c._free=t=>(et=c._free=M.ka)(t),ue=c._malloc=t=>(ue=c._malloc=M.la)(t),er=t=>(er=M.na)(t),P=(t,e)=>(P=M.oa)(t,e),Tt=t=>(Tt=M.pa)(t),D=()=>(D=M.qa)(),O=t=>(O=M.ra)(t),rr=t=>(rr=M.sa)(t),nr=t=>(nr=M.ta)(t),ar=(t,e,r)=>(ar=M.ua)(t,e,r),or=t=>(or=M.va)(t);c.dynCall_viijii=(t,e,r,n,a,o,s)=>(c.dynCall_viijii=M.wa)(t,e,r,n,a,o,s);var ir=c.dynCall_jiiii=(t,e,r,n,a)=>(ir=c.dynCall_jiiii=M.xa)(t,e,r,n,a);c.dynCall_iiiiij=(t,e,r,n,a,o,s)=>(c.dynCall_iiiiij=M.ya)(t,e,r,n,a,o,s),c.dynCall_iiiiijj=(t,e,r,n,a,o,s,u,l)=>(c.dynCall_iiiiijj=M.za)(t,e,r,n,a,o,s,u,l),c.dynCall_iiiiiijj=(t,e,r,n,a,o,s,u,l,f)=>(c.dynCall_iiiiiijj=M.Aa)(t,e,r,n,a,o,s,u,l,f);function Ua(t,e){var r=D();try{return A(t)(e)}catch(n){if(O(r),n!==n+0)throw n;P(1,0)}}function Va(t,e,r,n){var a=D();try{A(t)(e,r,n)}catch(o){if(O(a),o!==o+0)throw o;P(1,0)}}function La(t,e,r){var n=D();try{A(t)(e,r)}catch(a){if(O(n),a!==a+0)throw a;P(1,0)}}function Ya(t,e,r,n){var a=D();try{return A(t)(e,r,n)}catch(o){if(O(a),o!==o+0)throw o;P(1,0)}}function za(t,e,r,n,a){var o=D();try{return A(t)(e,r,n,a)}catch(s){if(O(o),s!==s+0)throw s;P(1,0)}}function Na(t,e){var r=D();try{A(t)(e)}catch(n){if(O(r),n!==n+0)throw n;P(1,0)}}function Ga(t,e,r){var n=D();try{return A(t)(e,r)}catch(a){if(O(n),a!==a+0)throw a;P(1,0)}}function Xa(t){var e=D();try{A(t)()}catch(r){if(O(e),r!==r+0)throw r;P(1,0)}}function qa(t,e,r,n,a){var o=D();try{return A(t)(e,r,n,a)}catch(s){if(O(o),s!==s+0)throw s;P(1,0)}}function Qa(t,e,r,n,a,o,s,u,l,f,h){var v=D();try{A(t)(e,r,n,a,o,s,u,l,f,h)}catch(y){if(O(v),y!==y+0)throw y;P(1,0)}}function Za(t,e,r,n,a,o,s){var u=D();try{return A(t)(e,r,n,a,o,s)}catch(l){if(O(u),l!==l+0)throw l;P(1,0)}}function Ja(t,e,r,n,a){var o=D();try{A(t)(e,r,n,a)}catch(s){if(O(o),s!==s+0)throw s;P(1,0)}}function Ka(t,e,r,n,a,o){var s=D();try{return A(t)(e,r,n,a,o)}catch(u){if(O(s),u!==u+0)throw u;P(1,0)}}function to(t,e,r,n,a,o,s,u){var l=D();try{return A(t)(e,r,n,a,o,s,u)}catch(f){if(O(l),f!==f+0)throw f;P(1,0)}}function eo(t,e,r,n){var a=D();try{return A(t)(e,r,n)}catch(o){if(O(a),o!==o+0)throw o;P(1,0)}}function ro(t,e,r,n){var a=D();try{return A(t)(e,r,n)}catch(o){if(O(a),o!==o+0)throw o;P(1,0)}}function no(t){var e=D();try{return A(t)()}catch(r){if(O(e),r!==r+0)throw r;P(1,0)}}function ao(t,e,r,n,a,o,s,u){var l=D();try{A(t)(e,r,n,a,o,s,u)}catch(f){if(O(l),f!==f+0)throw f;P(1,0)}}function oo(t,e,r,n,a,o,s,u,l,f,h,v){var y=D();try{return A(t)(e,r,n,a,o,s,u,l,f,h,v)}catch(w){if(O(y),w!==w+0)throw w;P(1,0)}}function io(t,e,r,n,a,o,s,u,l,f,h,v,y,w,E,F){var T=D();try{A(t)(e,r,n,a,o,s,u,l,f,h,v,y,w,E,F)}catch(R){if(O(T),R!==R+0)throw R;P(1,0)}}function so(t,e,r,n,a){var o=D();try{return ir(t,e,r,n,a)}catch(s){if(O(o),s!==s+0)throw s;P(1,0)}}var Bt;vt=function t(){Bt||sr(),Bt||(vt=t)};function sr(){if(ot>0||(Ur(),ot>0))return;function t(){Bt||(Bt=!0,c.calledRun=!0,!At&&(Vr(),$(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),Lr()))}c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),t()},1)):t()}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return sr(),p.ready}})();function Tr(i){return Lt(Pt,i)}function _r(i){return $r(Pt,i)}async function Pr(i,p){return br(Pt,i,p)}async function Er(i,p){return Cr(Pt,i,p)}const he=[["aztec","Aztec"],["code_128","Code128"],["code_39","Code39"],["code_93","Code93"],["codabar","Codabar"],["databar","DataBar"],["databar_expanded","DataBarExpanded"],["data_matrix","DataMatrix"],["dx_film_edge","DXFilmEdge"],["ean_13","EAN-13"],["ean_8","EAN-8"],["itf","ITF"],["maxi_code","MaxiCode"],["micro_qr_code","MicroQRCode"],["pdf417","PDF417"],["qr_code","QRCode"],["rm_qr_code","rMQRCode"],["upc_a","UPC-A"],["upc_e","UPC-E"],["linear_codes","Linear-Codes"],["matrix_codes","Matrix-Codes"]],Ar=[...he,["unknown"]].map(i=>i[0]),Et=new Map(he);function Dr(i){for(const[p,c]of Et)if(i===c)return p;return"unknown"}function Or(i){if(pe(i))return{width:i.naturalWidth,height:i.naturalHeight};if(me(i))return{width:i.width.baseVal.value,height:i.height.baseVal.value};if(ve(i))return{width:i.videoWidth,height:i.videoHeight};if(ge(i))return{width:i.width,height:i.height};if($e(i))return{width:i.displayWidth,height:i.displayHeight};if(ye(i))return{width:i.width,height:i.height};if(we(i))return{width:i.width,height:i.height};throw new TypeError("The provided value is not of type '(Blob or HTMLCanvasElement or HTMLImageElement or HTMLVideoElement or ImageBitmap or ImageData or OffscreenCanvas or SVGImageElement or VideoFrame)'.")}function pe(i){try{return i instanceof HTMLImageElement}catch{return!1}}function me(i){try{return i instanceof SVGImageElement}catch{return!1}}function ve(i){try{return i instanceof HTMLVideoElement}catch{return!1}}function ye(i){try{return i instanceof HTMLCanvasElement}catch{return!1}}function ge(i){try{return i instanceof ImageBitmap}catch{return!1}}function we(i){try{return i instanceof OffscreenCanvas}catch{return!1}}function $e(i){try{return i instanceof VideoFrame}catch{return!1}}function be(i){try{return i instanceof Blob}catch{return!1}}function Fr(i){try{return i instanceof ImageData}catch{return!1}}function xr(i,p){try{const c=new OffscreenCanvas(i,p);if(c.getContext("2d")instanceof OffscreenCanvasRenderingContext2D)return c;throw void 0}catch{const c=document.createElement("canvas");return c.width=i,c.height=p,c}}async function Ce(i){if(pe(i)&&!await Ir(i))throw new DOMException("Failed to load or decode HTMLImageElement.","InvalidStateError");if(me(i)&&!await Rr(i))throw new DOMException("Failed to load or decode SVGImageElement.","InvalidStateError");if($e(i)&&Wr(i))throw new DOMException("VideoFrame is closed.","InvalidStateError");if(ve(i)&&(i.readyState===0||i.readyState===1))throw new DOMException("Invalid element or state.","InvalidStateError");if(ge(i)&&Hr(i))throw new DOMException("The image source is detached.","InvalidStateError");const{width:p,height:c}=Or(i);if(p===0||c===0)return null;const g=xr(p,c).getContext("2d");g.drawImage(i,0,0);try{return g.getImageData(0,0,p,c)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function Sr(i){let p;try{if(globalThis.createImageBitmap)p=await createImageBitmap(i);else if(globalThis.Image){p=new Image;let $="";try{$=URL.createObjectURL(i),p.src=$,await p.decode()}finally{URL.revokeObjectURL($)}}else return i}catch{throw new DOMException("Failed to load or decode Blob.","InvalidStateError")}return await Ce(p)}function Mr(i){const{width:p,height:c}=i;if(p===0||c===0)return null;const $=i.getContext("2d");try{return $.getImageData(0,0,p,c)}catch{throw new DOMException("Source would taint origin.","SecurityError")}}async function jr(i){if(be(i))return await Sr(i);if(Fr(i)){if(kr(i))throw new DOMException("The image data has been detached.","InvalidStateError");return i}return ye(i)||we(i)?Mr(i):await Ce(i)}async function Ir(i){try{return await i.decode(),!0}catch{return!1}}async function Rr(i){var p;try{return await((p=i.decode)==null?void 0:p.call(i)),!0}catch{return!1}}function Wr(i){return i.format===null}function kr(i){return i.data.buffer.byteLength===0}function Hr(i){return i.width===0&&i.height===0}function Te(i,p){return i instanceof DOMException?new DOMException(`${p}: ${i.message}`,i.name):i instanceof Error?new i.constructor(`${p}: ${i.message}`):new Error(`${p}: ${i}`)}class Br extends EventTarget{constructor(c={}){var $;super();dr(this,ct,void 0);try{const g=($=c==null?void 0:c.formats)==null?void 0:$.filter(b=>b!=="unknown");if((g==null?void 0:g.length)===0)throw new TypeError("Hint option provided, but is empty.");for(const b of g!=null?g:[])if(!Et.has(b))throw new TypeError(`Failed to read the 'formats' property from 'BarcodeDetectorOptions': The provided value '${b}' is not a valid enum value of type BarcodeFormat.`);fr(this,ct,g!=null?g:[]),Tr().then(b=>{this.dispatchEvent(new CustomEvent("load",{detail:b}))}).catch(b=>{this.dispatchEvent(new CustomEvent("error",{detail:b}))})}catch(g){throw Te(g,"Failed to construct 'BarcodeDetector'")}}static async getSupportedFormats(){return Ar.filter(c=>c!=="unknown")}async detect(c){try{const $=await jr(c);if($===null)return[];let g;try{be($)?g=await Pr($,{tryHarder:!0,formats:ce(this,ct).map(b=>Et.get(b))}):g=await Er($,{tryHarder:!0,formats:ce(this,ct).map(b=>Et.get(b))})}catch(b){throw console.error(b),new DOMException("Barcode detection service unavailable.","NotSupportedError")}return g.map(b=>{const{topLeft:{x:V,y:z},topRight:{x:G,y:B},bottomLeft:{x:S,y:rt},bottomRight:{x:X,y:J}}=b.position,nt=Math.min(V,G,S,X),at=Math.min(z,B,rt,J),At=Math.max(V,G,S,X),L=Math.max(z,B,rt,J);return{boundingBox:new DOMRectReadOnly(nt,at,At-nt,L-at),rawValue:b.text,format:Dr(b.format),cornerPoints:[{x:V,y:z},{x:G,y:B},{x:X,y:J},{x:S,y:rt}]}})}catch($){throw Te($,"Failed to execute 'detect' on 'BarcodeDetector'")}}}return ct=new WeakMap,(_e=globalThis.BarcodeDetector)!=null||(globalThis.BarcodeDetector=Br),W.setZXingModuleOverrides=_r,Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),W}({});
